This network was trained on data from SRX simulations of the CSX beamline found in the Sirepo Examples.

The initial beam intensity data file `initial_intensity.csv` (found in this directory) was generated manually using the Sirepo CSX beamline example.
Data for training can be generated by downloading and running a ML Script from Sirepo.

At the time this network was trained it was necessary to make changes to some import statements in the python script included in the ML Script download.
The following `sed` command will make those changes.

```bash
mv NSLS-II-CSX-1-beamline-rsOptExport.py NSLS-II-CSX-1-beamline-rsOptExport.py.original
cat NSLS-II-CSX-1-beamline-rsOptExport.py.original | sed 's/import \(srw.*\)/from srwpy import \1/' | sed 's/import \(uti_plot_com\)/from srwpy import \1/' > NSLS-II-CSX-1-beamline-rsOptExport.py
```

The following is `NSLS-II-CSX-1-beamline-rsOptExport.yml` from the ML Script downloaded from Sirepo to run those simulations.
It shows the parameters and ranges used to generate the simulation data.

```yaml
codes:
  - python:
      settings:
      parameters:
        Pinhole_horizontalSize:
          min: 0.01e-3
          max: 0.02e-3
          samples: 500
          start: 0.01e-3
        Pinhole_verticalSize:
          min: 0.01e-3
          max: 0.02e-3
          samples: 500
          start: 0.01e-3
        Pinhole_horizontalOffset:
          min: -0.06e-3
          max: 0.06e-3
          samples: 500
          start: 0
        Pinhole_verticalOffset:
          min: -0.06e-3
          max: 0.06e-3
          samples: 500
          start: 0
      setup:
        input_file: NSLS-II-CSX-1-beamline-rsOptExport.py
        function: set_rsopt_params_dummy
        execution_type: parallel
options:
  software: lh_scan
  seed: 1
  nworkers: 1
  batch_size: 500
  output_file: NSLS-II-CSX-1-beamline-rsOptExport
  sim_dirs_make: False
```